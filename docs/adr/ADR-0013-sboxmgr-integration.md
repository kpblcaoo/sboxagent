# ADR-0013: SBoxAgent Integration with sboxmgr

> **Status**: Accepted  
> **Date**: 2025-06-27  
> **Author**: Mikhail Stepanov  
> **Supersedes**: None

## üéØ Context

SBoxAgent –¥–æ–ª–∂–µ–Ω –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è —Å CLI-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è VPN –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è–º–∏. –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –º–µ–∂–¥—É –∞–≥–µ–Ω—Ç–æ–º –∏ CLI-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º, —É—á–∏—Ç—ã–≤–∞—è dual-path –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É sboxctl.

## üìã Decision

### ‚úÖ –ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ: Dual-Path Architecture —Å HTTP API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π

**sboxctl** —è–≤–ª—è–µ—Ç—Å—è CLI-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è VPN –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è–º–∏ —Å dual-path –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π:
- **Path A**: autoupdater (systemd timer + shell script)
- **Path B**: sboxagent (Go daemon) - –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –ø—É—Ç—å

–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ HTTP API —Å JSON –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–º, –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º –≤ sboxctl.

### üîó –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è

```
Dual-Path Architecture:
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    Dual-Path Architecture                   ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  Path A: autoupdater        ‚îÇ  Path B: sboxagent           ‚îÇ
‚îÇ  - systemd timer            ‚îÇ  - Go daemon                 ‚îÇ
‚îÇ  - shell script             ‚îÇ  - orchestrator              ‚îÇ
‚îÇ  - simple logging           ‚îÇ  - logger                    ‚îÇ
‚îÇ  - basic health check       ‚îÇ  - watchdog                  ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                    sboxctl (oneshot CLI)                   ‚îÇ
‚îÇ  - subscription processing                                  ‚îÇ
‚îÇ  - config generation                                        ‚îÇ
‚îÇ  - plugin system                                            ‚îÇ
‚îÇ  - stdout logging (captured by agent)                       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

Integration Flow:
sboxctl CLI ‚Üí stdout ‚Üí sboxagent (Go)
     ‚Üì           ‚Üì           ‚Üì
  config    logs/metrics  long-running
generation   capture      service logic
```

### üìä –ü—Ä–æ—Ç–æ–∫–æ–ª –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è

#### –¢–∏–ø –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏: HTTP API + stdout capture
- **–ú–µ—Ö–∞–Ω–∏–∑–º**: HTTP API endpoints + stdout capture
- **–§–æ—Ä–º–∞—Ç**: JSON API –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π –≤ sboxctl/agent/protocol.py
- **–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**: sboxctl ‚Üí sboxagent (–∫–æ–º–∞–Ω–¥—ã) + stdout ‚Üí sboxagent (–ª–æ–≥–∏)

#### –ö–æ–º–∞–Ω–¥—ã API:
- `validate` - –≤–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ VPN –∫–ª–∏–µ–Ω—Ç–æ–≤
- `install` - —É—Å—Ç–∞–Ω–æ–≤–∫–∞ VPN –∫–ª–∏–µ–Ω—Ç–æ–≤ (sing-box, xray, clash, hysteria, mihomo)
- `check` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –∫–ª–∏–µ–Ω—Ç–æ–≤
- `version` - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤–µ—Ä—Å–∏–∏ –∞–≥–µ–Ω—Ç–∞

#### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ VPN –∫–ª–∏–µ–Ω—Ç—ã:
- **sing-box** - –æ—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∏–µ–Ω—Ç
- **xray** - –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –∫–ª–∏–µ–Ω—Ç
- **clash** - –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –∫–ª–∏–µ–Ω—Ç
- **hysteria** - –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –∫–ª–∏–µ–Ω—Ç
- **mihomo** - –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –∫–ª–∏–µ–Ω—Ç

#### –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:
```json
{
  "command": "validate",
  "version": "1.0",
  "trace_id": "abc123",
  "config_path": "/etc/sing-box/config.json",
  "client_type": "sing-box",
  "strict": true
}
```

#### –ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:
```json
{
  "success": true,
  "message": "Configuration validated successfully",
  "trace_id": "abc123",
  "errors": [],
  "client_detected": "sing-box",
  "client_version": "1.8.0"
}
```

## üèóÔ∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

### Phase 1B (v0.1.0-alpha)
```go
// HTTP API server
func main() {
    router := gin.Default()
    
    // API endpoints
    router.POST("/api/v1/validate", handleValidate)
    router.POST("/api/v1/install", handleInstall)
    router.POST("/api/v1/check", handleCheck)
    router.POST("/api/v1/version", handleVersion)
    
    // Health endpoint
    router.GET("/health", handleHealth)
    
    // Stdout capture setup
    go capturesboxctlStdout()
    
    router.Run(":8080")
}

// Multi-client support
type ClientManager interface {
    Validate(configPath string, strict bool) (*ValidationResult, error)
    Install(version string, force bool) (*InstallResult, error)
    Check() (*CheckResult, error)
    GetVersion() (string, error)
}

// Client implementations
type SingBoxClient struct{}
type XrayClient struct{}
type ClashClient struct{}
type HysteriaClient struct{}
type MihomoClient struct{}
```

### Phase 2+ (v0.3.0-beta+)
- Web UI –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
- –ê–ª–µ—Ä—Ç–∏–Ω–≥ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- Backup/restore —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

## ‚úÖ –û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ

### 1. –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π
- sboxctl —É–∂–µ –∏–º–µ–µ—Ç AgentBridge –¥–ª—è HTTP API
- JSON –ø—Ä–æ—Ç–æ–∫–æ–ª —É–∂–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω
- Dual-path –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≥–∏–±–∫–æ—Å—Ç—å

### 2. –†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å –∏ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ—Å—Ç—å
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö VPN –∫–ª–∏–µ–Ω—Ç–æ–≤
- –ù–µ –ø—Ä–∏–≤—è–∑–∞–Ω —Ç–æ–ª—å–∫–æ –∫ sing-box
- –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –∫–ª–∏–µ–Ω—Ç—ã

### 3. –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å
- HTTP API –±–æ–ª–µ–µ –Ω–∞–¥–µ–∂–µ–Ω —á–µ–º stdout pipe
- Stdout capture –¥–ª—è –ª–æ–≥–æ–≤ –∏ –º–µ—Ç—Ä–∏–∫
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

### 4. Dual-path –≥–∏–±–∫–æ—Å—Ç—å
- –ü—Ä–æ—Å—Ç–æ–π –ø—É—Ç—å: autoupdater (systemd timer + shell)
- –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –ø—É—Ç—å: sboxagent (Go daemon)
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç –ø–æ–¥—Ö–æ–¥—è—â–∏–π –ø—É—Ç—å

## üöß –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏ —Ä–∏—Å–∫–∏

### Phase 1B –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:
- –¢–æ–ª—å–∫–æ HTTP API (–±–µ–∑ Web UI)
- –ë–∞–∑–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã
- In-memory –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ë–∞–∑–æ–≤—ã–µ health check'–∏

### –ú–µ—Ä—ã —Å–º—è–≥—á–µ–Ω–∏—è:
- Graceful shutdown –¥–ª—è HTTP server
- Error handling –∏ logging
- Health checks
- Systemd integration –¥–ª—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏

## üîÑ –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã (–æ—Ç–∫–ª–æ–Ω–µ–Ω—ã)

### ‚ùå stdout-based –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- **–ü—Ä–∏—á–∏–Ω–∞ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è**: sboxctl —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç HTTP API
- **–°—Ç–∞—Ç—É—Å**: –ù–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π

### ‚ùå –ü—Ä—è–º–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å VPN –∫–ª–∏–µ–Ω—Ç–∞–º–∏
- **–ü—Ä–∏—á–∏–Ω–∞ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è**: –°–ª–æ–∂–Ω–æ—Å—Ç—å, –Ω–∞—Ä—É—à–µ–Ω–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø–∞ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏
- **–°—Ç–∞—Ç—É—Å**: sboxctl —É–∂–µ —Ä–µ—à–∞–µ—Ç —ç—Ç—É –∑–∞–¥–∞—á—É

### ‚ùå gRPC API
- **–ü—Ä–∏—á–∏–Ω–∞ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è**: –ò–∑–±—ã—Ç–æ—á–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å –¥–ª—è MVP
- **–°—Ç–∞—Ç—É—Å**: HTTP API –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è —Ç–µ–∫—É—â–∏—Ö –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–µ–π

### ‚ùå –¢–æ–ª—å–∫–æ sing-box –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- **–ü—Ä–∏—á–∏–Ω–∞ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è**: –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ—Å—Ç—å
- **–°—Ç–∞—Ç—É—Å**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤ –≤–∞–∂–Ω–∞

## üìà –ë—É–¥—É—â–∏–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è

### Phase 1C (v0.2.0-beta)
- File-based –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- Prometheus metrics
- Graceful shutdown
- Hot-reload –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### Phase 2 (v0.3.0-beta)
- Web UI
- –ê–ª–µ—Ä—Ç–∏–Ω–≥ —Å–∏—Å—Ç–µ–º–∞
- Backup/restore
- –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### Phase 3 (v1.0.0)
- Production readiness
- Security audit
- Performance optimization

## üéØ –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ:
- [ ] HTTP API —Ä–∞–±–æ—Ç–∞–µ—Ç —Å sboxctl AgentBridge
- [ ] JSON –ø—Ä–æ—Ç–æ–∫–æ–ª 100% —Å–æ–≤–º–µ—Å—Ç–∏–º
- [ ] –í—Å–µ –∫–æ–º–∞–Ω–¥—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã
- [ ] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö VPN –∫–ª–∏–µ–Ω—Ç–æ–≤
- [ ] Stdout capture —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç
- [ ] Systemd service —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ:
- [ ] –ü—Ä–æ—Å—Ç–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
- [ ] –ù–∞–¥–µ–∂–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –≤ production
- [ ] –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ –æ—Ç–ª–∞–¥–∫–∏
- [ ] –ì–∏–±–∫–æ—Å—Ç—å –≤—ã–±–æ—Ä–∞ –ø—É—Ç–∏ (autoupdater vs sboxagent)

## üìù –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- [ADR-0012: SBoxAgent Architecture](./ADR-0012-sboxagent-architecture.md)
- [Phase 1B ToDo](../plans/implementation/phase-1b-todo.md)
- [ROADMAP.md](../../ROADMAP.md)
- [sboxmgr Agent Protocol](../sboxmgr/src/sboxmgr/agent/protocol.py)
- [sboxmgr Stage 4 Plan](../sboxmgr/plans/roadmap_v1.5.0/stage4-agent-integration/README.md)

---

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –≠—Ç–æ —Ä–µ—à–µ–Ω–∏–µ –æ—Å–Ω–æ–≤–∞–Ω–æ –Ω–∞ –∏–∑—É—á–µ–Ω–∏–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã sboxmgr –∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å dual-path –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—è –∫–∞–∫ –ø—Ä–æ—Å—Ç–æ–π autoupdater –ø—É—Ç—å, —Ç–∞–∫ –∏ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π sboxagent –ø—É—Ç—å. 